(()=>{var e={};e.id=475,e.ids=[220,475,636],e.modules={237:(e,t)=>{"use strict";Object.defineProperty(t,"A",{enumerable:!0,get:function(){return r}});var r=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},1311:(e,t,r)=>{"use strict";function n(e,t,r,n){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return n}}),r(7779),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1413:(e,t)=>{"use strict";Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},2015:e=>{"use strict";e.exports=require("react")},2326:e=>{"use strict";e.exports=require("react-dom")},2386:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.r(t),r.d(t,{default:()=>d});var o=r(8732);r(2768);var a=r(2015),u=r(4233),i=r(6958),l=r(4748),s=r(4337),c=e([i,l,s]);[i,l,s]=c.then?(await c)():c;let d=function({Component:e,pageProps:t}){(0,u.useRouter)();let[r,n]=(0,a.useState)(!0);return r?(0,o.jsx)("div",{children:"로딩 중..."}):(0,o.jsx)(e,{...t})};n()}catch(e){n(e)}})},2768:()=>{},3873:e=>{"use strict";e.exports=require("path")},4013:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return j},useLinkStatus:function(){return m}});let n=r(3147),o=r(8732),a=n._(r(2015)),u=r(6231),i=r(651),l=r(2848),s=r(4718),c=r(1169),d=r(2088),f=r(6152),p=r(1311),b=r(6092),h=r(9871);function g(e,t,r,n){}function y(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}r(9281);let x=a.default.forwardRef(function(e,t){let r,n,{href:l,as:g,children:x,prefetch:v=null,passHref:m,replace:j,shallow:P,scroll:_,locale:S,onClick:D,onNavigate:M,onMouseEnter:C,onTouchStart:A,legacyBehavior:k=!1,...w}=e;r=x,k&&("string"==typeof r||"number"==typeof r)&&(r=(0,o.jsx)("a",{children:r}));let O=a.default.useContext(d.RouterContext),R=!1!==v,{href:E,as:I}=a.default.useMemo(()=>{if(!O){let e=y(l);return{href:e,as:g?y(g):e}}let[e,t]=(0,u.resolveHref)(O,l,!0);return{href:e,as:g?(0,u.resolveHref)(O,g):t||e}},[O,l,g]),q=a.default.useRef(E),G=a.default.useRef(I);k&&(n=a.default.Children.only(r));let B=k?n&&"object"==typeof n&&n.ref:t,[L,T,U]=(0,f.useIntersection)({rootMargin:"200px"}),W=a.default.useCallback(e=>{(G.current!==I||q.current!==E)&&(U(),G.current=I,q.current=E),L(e)},[I,E,U,L]),F=(0,h.useMergedRef)(W,B);a.default.useEffect(()=>{},[I,E,T,S,R,null==O?void 0:O.locale,O]);let z={ref:F,onClick(e){k||"function"!=typeof D||D(e),k&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(e),O&&(e.defaultPrevented||function(e,t,r,n,o,a,u,l,s){let{nodeName:c}=e.currentTarget;if(!("A"===c.toUpperCase()&&function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||e.currentTarget.hasAttribute("download"))){if(!(0,i.isLocalURL)(r)){o&&(e.preventDefault(),location.replace(r));return}e.preventDefault(),(()=>{if(s){let e=!1;if(s({preventDefault:()=>{e=!0}}),e)return}let e=null==u||u;"beforePopState"in t?t[o?"replace":"push"](r,n,{shallow:a,locale:l,scroll:e}):t[o?"replace":"push"](n||r,{scroll:e})})()}}(e,O,E,I,j,P,_,S,M))},onMouseEnter(e){k||"function"!=typeof C||C(e),k&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e)},onTouchStart:function(e){k||"function"!=typeof A||A(e),k&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e)}};if((0,s.isAbsoluteUrl)(I))z.href=I;else if(!k||m||"a"===n.type&&!("href"in n.props)){let e=void 0!==S?S:null==O?void 0:O.locale;z.href=(null==O?void 0:O.isLocaleDomain)&&(0,p.getDomainLocale)(I,e,null==O?void 0:O.locales,null==O?void 0:O.domainLocales)||(0,b.addBasePath)((0,c.addLocale)(I,e,null==O?void 0:O.defaultLocale))}return k?a.default.cloneElement(n,z):(0,o.jsx)("a",{...w,...z,children:r})}),v=(0,a.createContext)({pending:!1}),m=()=>(0,a.useContext)(v),j=x;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4047:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.r(t),r.d(t,{default:()=>p});var o=r(8732),a=r(2015),u=r(4748),i=r(4233),l=r(4337),s=r(6958),c=r(9918),d=r.n(c),f=e([u,l,s]);function p(){let[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(null),[c,f]=(0,a.useState)([]),p=(0,i.useRouter)(),b=async e=>{try{let t=(0,l.doc)(u.db,"babies",e.babyId),r=await (0,l.getDoc)(t);if(!r.exists())return alert("❌ 아기 정보를 찾을 수 없습니다.");let n=r.data().sharedWith||[];await (0,l.updateDoc)(t,{sharedWith:Array.from(new Set([...n,e.requestedBy]))}),await (0,l.deleteDoc)((0,l.doc)(u.db,"accessRequests",e.id)),await x(),alert("✅ 접근 요청을 승인했습니다.")}catch(e){console.error(e),alert("⚠️ 승인 처리 중 오류가 발생했습니다.")}},h=async e=>{try{await (0,l.deleteDoc)((0,l.doc)(u.db,"accessRequests",e)),f(t=>t.filter(t=>t.id!==e)),alert("❌ 요청이 거절되었습니다.")}catch(e){console.error(e),alert("⚠️ 거절 처리 중 오류 발생.")}},g=async e=>{try{await (0,l.deleteDoc)((0,l.doc)(u.db,"babies",e)),t(t=>t.filter(t=>t.id!==e)),alert("✅ 아기를 삭제했습니다.")}catch(e){console.error(e),alert("⚠️ 삭제 중 오류 발생.")}},y=async()=>{try{await (0,s.signOut)(u.j2),p.push("/login")}catch(e){console.error("로그아웃 실패:",e),alert("⚠️ 로그아웃 오류.")}},x=async()=>{let e=(await (0,l.getDocs)((0,l.collection)(u.db,"accessRequests"))).docs.map(e=>({id:e.id,...e.data()})).filter(e=>"rejected"!==e.status);f(e)};return r?(0,o.jsxs)("div",{style:{padding:"20px",backgroundColor:"#f9f9f9",minHeight:"100vh",position:"relative"},children:[(0,o.jsx)("button",{onClick:y,style:{position:"absolute",top:"20px",right:"20px",backgroundColor:"#555",color:"#fff",borderRadius:"6px",padding:"8px 14px",cursor:"pointer"},children:"\uD83D\uDEAA 로그아웃"}),(0,o.jsxs)("h1",{style:{fontSize:"32px",fontWeight:"bold"},children:["안녕하세요, ",r.name," 님 \uD83D\uDC4B"]}),(0,o.jsx)("h2",{style:{color:"#666",marginBottom:"20px"},children:"역할: 보호자"}),(0,o.jsx)("button",{onClick:()=>p.push("/register-baby"),style:{backgroundColor:"#4CAF50",color:"white",border:"none",padding:"12px 20px",borderRadius:"6px",fontSize:"16px",marginBottom:"20px"},children:"➕ 아기 등록하기"}),(0,o.jsx)("h3",{children:"\uD83C\uDF7C 내 아기 목록:"}),0===e.length?(0,o.jsx)("p",{children:"등록된 아기가 없습니다."}):(0,o.jsx)("ul",{style:{padding:"0"},children:e.map(e=>(0,o.jsxs)("li",{style:{backgroundColor:"#fff",padding:"10px",borderRadius:"6px",marginBottom:"10px",display:"flex",justifyContent:"space-between"},children:[(0,o.jsxs)(d(),{href:`/baby/${e.id}`,style:{color:"#4CAF50",fontWeight:"bold"},children:[e.name," (",e.birthdate,")"]}),(0,o.jsx)("button",{onClick:()=>g(e.id),style:{backgroundColor:"#f44336",color:"white",border:"none",padding:"6px 12px",borderRadius:"6px"},children:"❌ 삭제"})]},e.id))}),(0,o.jsx)("h3",{children:"\uD83D\uDD10 접근 요청 목록:"}),0===c.length?(0,o.jsx)("p",{children:"접근 요청이 없습니다."}):(0,o.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:c.map(e=>(0,o.jsxs)("div",{style:{padding:"12px",border:"1px solid #ccc",borderRadius:"8px",backgroundColor:"#fff"},children:[(0,o.jsxs)("p",{children:["\uD83D\uDC76 아기 ID: ",e.babyId]}),(0,o.jsxs)("p",{children:["\uD83D\uDE4B 요청자 UID: ",e.requestedBy]}),(0,o.jsxs)("p",{children:["\uD83D\uDD52 상태: ",e.status]}),(0,o.jsxs)("div",{style:{marginTop:"10px",display:"flex",gap:"10px"},children:[(0,o.jsx)("button",{onClick:()=>b(e),style:{backgroundColor:"#4CAF50",color:"white",border:"none",padding:"6px 10px",borderRadius:"4px"},children:"✅ 승인"}),(0,o.jsx)("button",{onClick:()=>h(e.id),style:{backgroundColor:"#f44336",color:"white",border:"none",padding:"6px 10px",borderRadius:"4px"},children:"❌ 거절"})]})]},e.id))})]}):(0,o.jsx)("div",{children:"로딩 중..."})}[u,l,s]=f.then?(await f)():f,n()}catch(e){n(e)}})},4075:e=>{"use strict";e.exports=require("zlib")},4337:e=>{"use strict";e.exports=import("firebase/firestore")},4748:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{db:()=>c,j2:()=>s});var o=r(6551),a=r(6958),u=r(4337),i=e([o,a,u]);[o,a,u]=i.then?(await i)():i;let l=(0,o.initializeApp)({apiKey:"AIzaSyBl4ii299DYGkve-e531d4U08eVkpfDdIg",authDomain:"my-babycare-app.firebaseapp.com",projectId:"my-babycare-app",storageBucket:"my-babycare-app.firebasestorage.app",messagingSenderId:"307201812669",appId:"1:307201812669:web:9012ccbe17a93b09d16fd4",measurementId:"G-PFWL5ZVWQ4"}),s=(0,a.getAuth)(l),c=(0,u.getFirestore)(l);new a.GoogleAuthProvider,new a.FacebookAuthProvider,n()}catch(e){n(e)}})},6152:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return l}});let n=r(2015),o=r(4841),a="function"==typeof IntersectionObserver,u=new Map,i=[];function l(e){let{rootRef:t,rootMargin:r,disabled:l}=e,s=l||!a,[c,d]=(0,n.useState)(!1),f=(0,n.useRef)(null),p=(0,n.useCallback)(e=>{f.current=e},[]);return(0,n.useEffect)(()=>{if(a){if(s||c)return;let e=f.current;if(e&&e.tagName)return function(e,t,r){let{id:n,observer:o,elements:a}=function(e){let t,r={root:e.root||null,margin:e.rootMargin||""},n=i.find(e=>e.root===r.root&&e.margin===r.margin);if(n&&(t=u.get(n)))return t;let o=new Map;return t={id:r,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=o.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)})},e),elements:o},i.push(r),u.set(r,t),t}(r);return a.set(e,t),o.observe(e),function(){if(a.delete(e),o.unobserve(e),0===a.size){o.disconnect(),u.delete(n);let e=i.findIndex(e=>e.root===n.root&&e.margin===n.margin);e>-1&&i.splice(e,1)}}}(e,e=>e&&d(e),{root:null==t?void 0:t.current,rootMargin:r})}else if(!c){let e=(0,o.requestIdleCallback)(()=>d(!0));return()=>(0,o.cancelIdleCallback)(e)}},[s,r,t,c,f.current]),[p,c,(0,n.useCallback)(()=>{d(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6472:e=>{"use strict";e.exports=require("@opentelemetry/api")},6551:e=>{"use strict";e.exports=import("firebase/app")},6958:e=>{"use strict";e.exports=import("firebase/auth")},7910:e=>{"use strict";e.exports=require("stream")},8435:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.r(t),r.d(t,{config:()=>h,default:()=>d,getServerSideProps:()=>b,getStaticPaths:()=>p,getStaticProps:()=>f,reportWebVitals:()=>g,routeModule:()=>P,unstable_getServerProps:()=>m,unstable_getServerSideProps:()=>j,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>x,unstable_getStaticProps:()=>y});var o=r(3885),a=r(237),u=r(1413),i=r(8874),l=r(2386),s=r(4047),c=e([l,s]);[l,s]=c.then?(await c)():c;let d=(0,u.M)(s,"default"),f=(0,u.M)(s,"getStaticProps"),p=(0,u.M)(s,"getStaticPaths"),b=(0,u.M)(s,"getServerSideProps"),h=(0,u.M)(s,"config"),g=(0,u.M)(s,"reportWebVitals"),y=(0,u.M)(s,"unstable_getStaticProps"),x=(0,u.M)(s,"unstable_getStaticPaths"),v=(0,u.M)(s,"unstable_getStaticParams"),m=(0,u.M)(s,"unstable_getServerProps"),j=(0,u.M)(s,"unstable_getServerSideProps"),P=new o.PagesRouteModule({definition:{kind:a.A.PAGES,page:"/parent-dashboard",pathname:"/parent-dashboard",bundlePath:"",filename:""},components:{App:l.default,Document:i.default},userland:s});n()}catch(e){n(e)}})},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},8874:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(8732),o=r(2341);function a(){return(0,n.jsxs)(o.Html,{lang:"en",children:[(0,n.jsx)(o.Head,{}),(0,n.jsxs)("body",{className:"antialiased",children:[(0,n.jsx)(o.Main,{}),(0,n.jsx)(o.NextScript,{})]})]})}},9021:e=>{"use strict";e.exports=require("fs")},9281:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"errorOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},9871:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return o}});let n=r(2015);function o(e,t){let r=(0,n.useRef)(null),o=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=o.current;t&&(o.current=null,t())}else e&&(r.current=a(e,n)),t&&(o.current=a(t,n))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9918:(e,t,r)=>{e.exports=r(4013)}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[89,233,341],()=>r(8435));module.exports=n})();
(()=>{var e={};e.id=866,e.ids=[220,636,866],e.modules={237:(e,t)=>{"use strict";Object.defineProperty(t,"A",{enumerable:!0,get:function(){return r}});var r=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},1413:(e,t)=>{"use strict";Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},2015:e=>{"use strict";e.exports=require("react")},2326:e=>{"use strict";e.exports=require("react-dom")},2386:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>p});var a=r(8732);r(2768);var i=r(2015),u=r(4233),n=r(6958),c=r(4748),o=r(4337),d=e([n,c,o]);[n,c,o]=d.then?(await d)():d;let p=function({Component:e,pageProps:t}){(0,u.useRouter)();let[r,s]=(0,i.useState)(!0);return r?(0,a.jsx)("div",{children:"로딩 중..."}):(0,a.jsx)(e,{...t})};s()}catch(e){s(e)}})},2768:()=>{},3873:e=>{"use strict";e.exports=require("path")},4075:e=>{"use strict";e.exports=require("zlib")},4337:e=>{"use strict";e.exports=import("firebase/firestore")},4471:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>f,default:()=>p,getServerSideProps:()=>P,getStaticPaths:()=>b,getStaticProps:()=>l,reportWebVitals:()=>g,routeModule:()=>v,unstable_getServerProps:()=>S,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>x,unstable_getStaticPaths:()=>m,unstable_getStaticProps:()=>h});var a=r(3885),i=r(237),u=r(1413),n=r(8874),c=r(2386),o=r(5064),d=e([c,o]);[c,o]=d.then?(await d)():d;let p=(0,u.M)(o,"default"),l=(0,u.M)(o,"getStaticProps"),b=(0,u.M)(o,"getStaticPaths"),P=(0,u.M)(o,"getServerSideProps"),f=(0,u.M)(o,"config"),g=(0,u.M)(o,"reportWebVitals"),h=(0,u.M)(o,"unstable_getStaticProps"),m=(0,u.M)(o,"unstable_getStaticPaths"),x=(0,u.M)(o,"unstable_getStaticParams"),S=(0,u.M)(o,"unstable_getServerProps"),y=(0,u.M)(o,"unstable_getServerSideProps"),v=new a.PagesRouteModule({definition:{kind:i.A.PAGES,page:"/requests",pathname:"/requests",bundlePath:"",filename:""},components:{App:c.default,Document:n.default},userland:o});s()}catch(e){s(e)}})},4748:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{db:()=>d,j2:()=>o});var a=r(6551),i=r(6958),u=r(4337),n=e([a,i,u]);[a,i,u]=n.then?(await n)():n;let c=(0,a.initializeApp)({apiKey:"AIzaSyBl4ii299DYGkve-e531d4U08eVkpfDdIg",authDomain:"my-babycare-app.firebaseapp.com",projectId:"my-babycare-app",storageBucket:"my-babycare-app.firebasestorage.app",messagingSenderId:"307201812669",appId:"1:307201812669:web:9012ccbe17a93b09d16fd4",measurementId:"G-PFWL5ZVWQ4"}),o=(0,i.getAuth)(c),d=(0,u.getFirestore)(c);new i.GoogleAuthProvider,new i.FacebookAuthProvider,s()}catch(e){s(e)}})},5064:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>o});var a=r(8732),i=r(2015),u=r(4748),n=r(4337),c=e([u,n]);function o(){let[e,t]=(0,i.useState)([]),r=async e=>{let t=(0,n.doc)(u.db,"babies",e.babyId),r=await (0,n.getDoc)(t);if(r.exists()){let s=[...r.data().sharedWith||[],e.requestedBy];await (0,n.updateDoc)(t,{sharedWith:s}),await (0,n.updateDoc)((0,n.doc)(u.db,"accessRequests",e.id),{status:"approved"}),alert("승인 완료!")}};return(0,a.jsxs)("div",{style:{padding:"20px"},children:[(0,a.jsx)("h1",{children:"\uD83D\uDC69‍⚕️ 접근 요청 승인"}),(0,a.jsx)("ul",{children:e.map(e=>(0,a.jsxs)("li",{children:["Baby ID: ",e.babyId,", 요청자: ",e.requestedBy,(0,a.jsx)("button",{onClick:()=>r(e),children:"승인"})]},e.id))})]})}[u,n]=c.then?(await c)():c,s()}catch(e){s(e)}})},6472:e=>{"use strict";e.exports=require("@opentelemetry/api")},6551:e=>{"use strict";e.exports=import("firebase/app")},6958:e=>{"use strict";e.exports=import("firebase/auth")},7910:e=>{"use strict";e.exports=require("stream")},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},8874:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(8732),a=r(2341);function i(){return(0,s.jsxs)(a.Html,{lang:"en",children:[(0,s.jsx)(a.Head,{}),(0,s.jsxs)("body",{className:"antialiased",children:[(0,s.jsx)(a.Main,{}),(0,s.jsx)(a.NextScript,{})]})]})}},9021:e=>{"use strict";e.exports=require("fs")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[89,233,341],()=>r(4471));module.exports=s})();
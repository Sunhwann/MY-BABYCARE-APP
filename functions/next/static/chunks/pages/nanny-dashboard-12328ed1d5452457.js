(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[355],{2194:(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>d});var t=n(7876),i=n(4232),s=n(6746),o=n(9099),a=n(2009);function d(){let[e,r]=(0,i.useState)([]),[n,d]=(0,i.useState)(null),l=(0,o.useRouter)();(0,i.useEffect)(()=>{(async()=>{let e=s.j2.currentUser;if(!e)return;let n=await (0,a.x7)((0,a.H9)(s.db,"users",e.uid));if(!n.exists())return;d(n.data());let t=(0,a.P)((0,a.rJ)(s.db,"babies"),(0,a._M)("sharedWith","array-contains",e.uid));r((await (0,a.GG)(t)).docs.map(e=>({id:e.id,...e.data()})))})()},[]);let c=async e=>{if(s.j2.currentUser&&window.confirm("정말 이 아기를 목록에서 삭제하시겠습니까?"))try{let n=(0,a.H9)(s.db,"babies",e);await (0,a.mZ)(n,{sharedWith:(0,a.C3)(s.j2.currentUser.uid)}),r(r=>r.filter(r=>r.id!==e))}catch(e){console.error("삭제 중 오류 발생:",e),alert("삭제에 실패했습니다.")}};return n?(0,t.jsxs)("div",{style:{backgroundColor:"white",color:"#222",minHeight:"100vh",padding:"20px",fontFamily:"sans-serif"},children:[(0,t.jsxs)("h1",{style:{fontWeight:"bold"},children:["안녕하세요, ",n.name," 님 \uD83D\uDC4B"]}),(0,t.jsx)("h2",{style:{marginTop:"5px",color:"#555"},children:"역할: 도우미"}),(0,t.jsx)("button",{onClick:()=>l.push("/request-access"),style:{marginTop:"10px",marginBottom:"20px",backgroundColor:"#4CAF50",color:"white",padding:"8px 16px",border:"none",borderRadius:"4px",cursor:"pointer"},children:"➕ 아기 추가하기"}),(0,t.jsx)("h3",{style:{marginTop:"20px"},children:"\uD83C\uDF7C 맡은 아기 목록:"}),0===e.length?(0,t.jsx)("p",{children:"맡은 아기가 없습니다."}):(0,t.jsx)("ul",{style:{paddingLeft:"0",listStyle:"none"},children:e.map(e=>(0,t.jsxs)("li",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"#f9f9f9",padding:"10px",marginBottom:"10px",borderRadius:"6px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,t.jsxs)("span",{style:{cursor:"pointer",color:"#0070f3",fontWeight:500},onClick:()=>l.push("/baby/".concat(e.id)),children:[e.name," (",e.birthdate,")"]}),(0,t.jsx)("button",{onClick:()=>c(e.id),style:{backgroundColor:"#e74c3c",color:"white",border:"none",borderRadius:"4px",padding:"6px 12px",cursor:"pointer"},children:"삭제"})]},e.id))})]}):(0,t.jsx)("div",{children:"로딩 중..."})}},3448:(e,r,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/nanny-dashboard",function(){return n(2194)}])}},e=>{var r=r=>e(e.s=r);e.O(0,[636,593,792],()=>r(3448)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[355],{2194:(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>u});var i=n(7876),o=n(4232),t=n(6746),s=n(9099),l=n(2009),a=n(4200),d=n(4846);function u(){let[e,r]=(0,o.useState)([]),[n,u]=(0,o.useState)(null),c=(0,s.useRouter)(),{t:p,i18n:x}=(0,d.Bd)(),h=e=>{x.changeLanguage(e)};(0,o.useEffect)(()=>{(async()=>{let e=t.j2.currentUser;if(!e)return;let n=await (0,l.x7)((0,l.H9)(t.db,"users",e.uid));if(!n.exists())return;u(n.data());let i=(0,l.P)((0,l.rJ)(t.db,"babies"),(0,l._M)("sharedWith","array-contains",e.uid));r((await (0,l.GG)(i)).docs.map(e=>({id:e.id,...e.data()})))})()},[]);let g=async e=>{if(t.j2.currentUser&&window.confirm(p("confirmRemove")))try{let n=(0,l.H9)(t.db,"babies",e);await (0,l.mZ)(n,{sharedWith:(0,l.C3)(t.j2.currentUser.uid)}),r(r=>r.filter(r=>r.id!==e))}catch(e){console.error("삭제 중 오류 발생:",e),alert(p("deleteError"))}},b=async()=>{try{await (0,a.CI)(t.j2),c.push("/login")}catch(e){console.error("Logout error:",e),alert(p("logoutError"))}};return n?(0,i.jsxs)("div",{style:{backgroundColor:"white",color:"#222",minHeight:"100vh",padding:"20px",fontFamily:"sans-serif",position:"relative"},children:[(0,i.jsxs)("div",{style:{position:"absolute",top:"20px",right:"20px",display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"10px"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("button",{onClick:()=>h("ko"),style:{fontSize:"24px",marginRight:"8px"},children:"\uD83C\uDDF0\uD83C\uDDF7"}),(0,i.jsx)("button",{onClick:()=>h("en"),style:{fontSize:"24px",marginRight:"8px"},children:"\uD83C\uDDFA\uD83C\uDDF8"}),(0,i.jsx)("button",{onClick:()=>h("vi"),style:{fontSize:"24px"},children:"\uD83C\uDDFB\uD83C\uDDF3"})]}),(0,i.jsxs)("button",{onClick:b,style:{backgroundColor:"#555",color:"#fff",borderRadius:"6px",padding:"8px 14px",cursor:"pointer"},children:["\uD83D\uDEAA ",p("logout")]})]}),(0,i.jsxs)("h1",{style:{fontWeight:"bold"},children:[p("hello"),", ",n.name," \uD83D\uDC4B"]}),(0,i.jsxs)("h2",{style:{marginTop:"5px",color:"#555"},children:[p("role"),": ",p("nanny")]}),(0,i.jsxs)("button",{onClick:()=>c.push("/request-access"),style:{marginTop:"10px",marginBottom:"20px",backgroundColor:"#4CAF50",color:"white",padding:"8px 16px",border:"none",borderRadius:"4px",cursor:"pointer"},children:["➕ ",p("addBaby")]}),(0,i.jsxs)("h3",{style:{marginTop:"20px"},children:["\uD83C\uDF7C ",p("assignedBabies"),":"]}),0===e.length?(0,i.jsx)("p",{children:p("noAssignedBabies")}):(0,i.jsx)("ul",{style:{paddingLeft:"0",listStyle:"none"},children:e.map(e=>(0,i.jsxs)("li",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"#f9f9f9",padding:"10px",marginBottom:"10px",borderRadius:"6px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,i.jsxs)("span",{style:{cursor:"pointer",color:"#0070f3",fontWeight:500},onClick:()=>c.push("/baby/".concat(e.id)),children:[e.name," (",e.birthdate,")"]}),(0,i.jsx)("button",{onClick:()=>g(e.id),style:{backgroundColor:"#e74c3c",color:"white",border:"none",borderRadius:"4px",padding:"6px 12px",cursor:"pointer"},children:p("remove")})]},e.id))})]}):(0,i.jsx)("div",{children:p("loading")})}},3448:(e,r,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/nanny-dashboard",function(){return n(2194)}])}},e=>{var r=r=>e(e.s=r);e.O(0,[636,593,792],()=>r(3448)),_N_E=e.O()}]);